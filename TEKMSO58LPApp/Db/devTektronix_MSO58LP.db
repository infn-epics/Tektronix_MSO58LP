#
# waveform, acalcout and asub records not changed #
#

record(bo, "$(P):SIM")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
    field(ZNAM, "NO")
    field(ONAM, "YES")
    field(FLNK, "$(P):IDN")
}

record(bo, "$(P):DISABLE") 
{
    field(DESC, "Disable comms")
    field(PINI, "YES")
    field(VAL, "0")
    field(OMSL, "supervisory")
    field(ZNAM, "COMMS ENABLED")
    field(ONAM, "COMMS DISABLED")
}

#
# Simple YDATAbase and stream protocol file for basic SCPI (IEEE488.2) commands
#

#
# waveform, acalcout and asub records not changed #
#


# General oscilloscope commands

# Short and long form of identification string

record(stringin,"$(P):IDN")
{
    field(DESC, "SCPI identification string")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getIDN(39) $(PORT)")
    field(PINI, "YES")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:IDN")
    field(SDIS, "$(P):DISABLE")
}

# Specific Channel commands

# Records for calculated Y data disabled as only raw data plotted in CSS
# (as well as forward-links pointing to those records)

record(waveform,"$(P):RAWYDATA_CH1")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(1) $(PORT)")
	field(FLNK, "$(P):XINC_CH1")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:RAWYDATA_CH1")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH1")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(1) $(PORT)")
	field(FLNK, "$(P):YMULT_CH1")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XINC_CH1")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH1")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(1) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH1")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YMULT_CH1")
    field(SDIS, "$(P):DISABLE")
}

record(stringin,"$(P):XUNIT_CH1")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(1) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH1")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XUNIT_CH1")
    field(SDIS, "$(P):DISABLE")
}

record(stringin,"$(P):YUNIT_CH1")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(1) $(PORT)")
#	field(FLNK, "$(P):ACALC_YDATA_CH1")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YUNIT_CH1")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH1") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH1")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH1")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH1")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH1")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH1") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH1")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH1")
}

record(ai, "$(P):NORM_CH1") {
    field(DESC, "normalization factor for  CH1 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH1") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH1") {
    field(DESC, "X min for CH1 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH1") {
    field(DESC, "X max for CH1 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}

#record(acalcout,"$(P):ACALC_YDATA_CH1")
#{
#	field(NELM, "10000")
#   field(DESC, "scale y data points")
#   field(INAA, "$(P):RAWYDATA_CH1")
#	field(INPA, "$(P):YMULT_CH1")
#	field(CALC, "AA * A")
#	field(FLNK, "$(P):YDATA_CH1")
#}

#record(waveform, "$(P):YDATA_CH1")
#{
#	field(NELM, "10000")
#   field(DESC, "scaled y data points")
#	field(INP,  "$(P):ACALC_YDATA_CH1.AVAL")
#	field(FTVL, "DOUBLE")
#	field(SIML, "$(P):SIM")
#   field(SIOL, "$(P):SIM:YDATA_CH1")
#   field(SDIS, "$(P):DISABLE")
#}

record(waveform,"$(P):RAWYDATA_CH2")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(2) $(PORT)")
	field(FLNK, "$(P):XINC_CH2")
    field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:RAWYDATA_CH2")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH2")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(2) $(PORT)")
    field(PREC, "3")
	field(FLNK, "$(P):YMULT_CH2")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XINC_CH2")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH2")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(2) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH2")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YMULT_CH2")
    field(SDIS, "$(P):DISABLE")
}

record(stringin,"$(P):XUNIT_CH2")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(2) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH2")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XUNIT_CH2")
    field(SDIS, "$(P):DISABLE")
}

record(stringin,"$(P):YUNIT_CH2")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(2) $(PORT)")
#	field(FLNK, "$(P):ACALC_YDATA_CH2")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YUNIT_CH2")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH2") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH2")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH2")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH2")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH2")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH2") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH2")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH2")
}

record(ai, "$(P):NORM_CH2") {
    field(DESC, "normalization factor for  CH2 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH2") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH2") {
    field(DESC, "X min for CH2 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH2") {
    field(DESC, "X max for CH2 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}

#record(acalcout,"$(P):ACALC_YDATA_CH2")
#{
#	field(NELM, "10000")
#   field(DESC, "scale y data points")
#   field(INAA, "$(P):RAWYDATA_CH2")
#	field(INPA, "$(P):YMULT_CH2")
#	field(CALC, "AA * A")
#	field(FLNK, "$(P):YDATA_CH2")
#}

#record(waveform, "$(P):YDATA_CH2")
#{
#	field(NELM, "10000")
#   field(DESC, "scaled y data points")
#	field(INP,  "$(P):ACALC_YDATA_CH2.AVAL")
#	field(FTVL, "DOUBLE")
#}

record(waveform, "$(P):RAWYDATA_CH3")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(3) $(PORT)")
	field(FLNK, "$(P):XINC_CH3")
    field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:RAWYDATA_CH3")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH3")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(3) $(PORT)")
	field(FLNK, "$(P):YMULT_CH3")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XINC_CH3")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH3")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(3) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH3")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YMULT_CH3")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH3")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(3) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH3")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XUNIT_CH3")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH3")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(3) $(PORT)")
#	field(FLNK, "$(P):ACALC_YDATA_CH3")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YUNIT_CH3")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH3") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH3")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH3")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH3")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH3")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH3") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH3")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH3")
}

record(ai, "$(P):NORM_CH3") {
    field(DESC, "normalization factor for  CH3 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH3") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH3") {
    field(DESC, "X min for CH3 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH3") {
    field(DESC, "X max for CH3 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}


#record(acalcout,"$(P):ACALC_YDATA_CH3")
#{
#	field(NELM, "10000")
#   field(DESC, "scale y data points")
#   field(INAA, "$(P):RAWYDATA_CH3")
#	field(INPA, "$(P):YMULT_CH3")
#	field(CALC, "AA * A")
#	field(FLNK, "$(P):YDATA_CH3")
#}

#record(waveform, "$(P):YDATA_CH3")
#{
#	field(NELM, "10000")
#   field(DESC, "scaled y data points")
#	field(INP,  "$(P):ACALC_YDATA_CH3.AVAL")
#	field(FTVL, "DOUBLE")
#}

record(waveform, "$(P):RAWYDATA_CH4")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(4) $(PORT)")
	field(FLNK, "$(P):XINC_CH4")
    field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:RAWYDATA_CH4")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH4")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(4) $(PORT)")
	field(FLNK, "$(P):YMULT_CH4")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XINC_CH4")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH4")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(4) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH4")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YMULT_CH4")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH4")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(4) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH4")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:XUNIT_CH4")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH4")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(4) $(PORT)")
#	field(FLNK, "$(P):ACALC_YDATA_CH4")
	field(SIML, "$(P):SIM")
    field(SIOL, "$(P):SIM:YUNIT_CH4")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH4") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH4")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH4")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH4")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH4")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH4") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH4")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH4")
}

record(ai, "$(P):NORM_CH4") {
    field(DESC, "normalization factor for  CH4 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH4") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH4") {
    field(DESC, "X min for CH4 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH4") {
    field(DESC, "X max for CH4 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}



#record(acalcout,"$(P):ACALC_YDATA_CH4")
#{
#	field(NELM, "10000")
#   field(DESC, "scale y data points")
#   field(INAA, "$(P):RAWYDATA_CH4")
#	field(INPA, "$(P):YMULT_CH4")
#	field(CALC, "AA * A")
#	field(FLNK, "$(P):YDATA_CH4")
#}

#record(waveform, "$(P):YDATA_CH4")
#{
#	field(NELM, "10000")
#   field(DESC, "scaled y data points")
#	field(INP,  "$(P):ACALC_YDATA_CH4.AVAL")
#	field(FTVL, "DOUBLE")
#}



record(waveform, "$(P):RAWYDATA_CH5")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(5) $(PORT)")
	field(FLNK, "$(P):XINC_CH5")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH5")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(5) $(PORT)")
	field(FLNK, "$(P):YMULT_CH5")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH5")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(5) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH5")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH5")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(5) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH5")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH5")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(5) $(PORT)")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH5") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH5")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH5")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH5")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH5")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH5") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH5")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH5")
}

record(ai, "$(P):NORM_CH5") {
    field(DESC, "normalization factor for  CH5 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH5") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH5") {
    field(DESC, "X min for CH5 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH5") {
    field(DESC, "X max for CH5 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}


#channel 6

record(waveform, "$(P):RAWYDATA_CH6")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(6) $(PORT)")
	field(FLNK, "$(P):XINC_CH6")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH6")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(6) $(PORT)")
	field(FLNK, "$(P):YMULT_CH6")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH6")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(6) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH6")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH6")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(6) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH6")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH6")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(6) $(PORT)")
    field(SDIS, "$(P):DISABLE")
}

#channel 7


record(waveform, "$(P):RAWYDATA_CH7")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(7) $(PORT)")
	field(FLNK, "$(P):XINC_CH7")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH7")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(7) $(PORT)")
	field(FLNK, "$(P):YMULT_CH7")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH7")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(7) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH7")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH7")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(7) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH7")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH7")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(7) $(PORT)")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH7") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH7")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH7")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH7")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH7")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH7") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH7")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH7")
}

record(ai, "$(P):NORM_CH7") {
    field(DESC, "normalization factor for  CH7 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH7") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH7") {
    field(DESC, "X min for CH7 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH7") {
    field(DESC, "X max for CH7 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}

#channel 8


record(waveform, "$(P):RAWYDATA_CH8")
{
    field(SCAN, "$(SCANTIME)")
    field(DESC, "Get y data points")
    field(DTYP, "stream")
	field(NELM, "10000")
	field(FTVL, "LONG")
    field(INP,  "@devTektronix_MSO58LP.proto getYDATA(8) $(PORT)")
	field(FLNK, "$(P):XINC_CH8")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):XINC_CH8")
{
    field(DESC, "get x increment of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXINC(8) $(PORT)")
	field(FLNK, "$(P):YMULT_CH8")
    field(SDIS, "$(P):DISABLE")
}

record(ai, "$(P):YMULT_CH8")
{
    field(DESC, "get y multiplier of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYMULT(8) $(PORT)")
	field(FLNK, "$(P):XUNIT_CH8")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):XUNIT_CH8")
{
    field(DESC, "get x unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getXUNIT(8) $(PORT)")
	field(FLNK, "$(P):YUNIT_CH8")
    field(SDIS, "$(P):DISABLE")
}

record(stringin, "$(P):YUNIT_CH8")
{
    field(DESC, "get y unit of plot")
    field(DTYP, "stream")
    field(INP,  "@devTektronix_MSO58LP.proto getYUNIT(8) $(PORT)")
    field(SDIS, "$(P):DISABLE")
}

record(aSub, "$(P):INT_ASUB_CH8") {
    field(SCAN, "$(SCANTIME)")
    field(SNAM, "integrator")
    field(FTA, "DOUBLE") field(INPA, "$(P):RAWYDATA_CH8")
    field(FTB, "DOUBLE") field(INPB, "$(P):XINC_CH8")
    field(FTC, "DOUBLE") field(INPC, "$(P):XMIN_CH8")
    field(FTD, "DOUBLE") field(INPD, "$(P):XMAX_CH8")
    field(FTE, "DOUBLE")  field(INPE, "$(P):NORM_CH8") 
    field(FTVA, "DOUBLE") field(NOVA, "1")
    field(OUTA, "$(P):INTEGRAL_CH8")
    field(NEVA, "10000")
    field(FLNK, "$(P):INTEGRAL_CH8")
}

record(ai, "$(P):NORM_CH8") {
    field(DESC, "normalization factor for  CH8 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1.0")
}

record(ai, "$(P):INTEGRAL_CH8") {
    field(DTYP, "Soft Channel")
    field(PREC, "6")
}

record(ai, "$(P):XMIN_CH8") {
    field(DESC, "X min for CH8 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "0.0")
}

record(ai, "$(P):XMAX_CH8") {
    field(DESC, "X max for CH8 integral")
    field(DTYP, "Soft Channel")
    field(PREC, "9")
    field(VAL, "1e-6")
}


# The following two records generate values for the x-axis

record(aSub,"$(P):ASUB") 
{
    field(SCAN, "5 second")
    field(SNAM, "incrementor")
    field(FTA,  "DOUBLE")
	field(INPA, "$(P):XINC_CH1")
    field(OUTA, "$(P):OUT")
    field(FTVA, "DOUBLE")
    field(NOVA, "10000")
	field(NEVA, "10000")
    field(FLNK, "$(P):XDATA")
}

record(waveform, "$(P):XDATA")
{
    field(INP, "$(P):ASUB.VALA")
    field(DTYP, "Soft Channel")
    field(NELM, "10000")
    field(FTVL, "DOUBLE")
}

### SIMULATION RECORDS ###

#
# waveform, acalcout and asub records not changed #
#

record(stringin, "$(P):SIM:IDN")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "Tektronix Simulated IDN String")
}

record(waveform,"$(P):SIM:RAWYDATA_CH1")
{
	field(NELM, "10000")
	field(FTVL, "LONG")
}

record(ai, "$(P):SIM:XINC_CH1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.01")
}

record(ai, "$(P):SIM:YMULT_CH1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.1")
}

record(stringin, "$(P):SIM:XUNIT_CH1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "s")
}

record(stringin, "$(P):SIM:YUNIT_CH1")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "V")
}

record(waveform,"$(P):SIM:RAWYDATA_CH2")
{
	field(NELM, "10000")
	field(FTVL, "LONG")
}

record(ai, "$(P):SIM:XINC_CH2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.02")
}

record(ai, "$(P):SIM:YMULT_CH2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.2")
}

record(stringin, "$(P):SIM:XUNIT_CH2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "s")
}

record(stringin, "$(P):SIM:YUNIT_CH2")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "V")
}

record(waveform,"$(P):SIM:RAWYDATA_CH3")
{
	field(NELM, "10000")
	field(FTVL, "LONG")
}

record(ai, "$(P):SIM:XINC_CH3")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.03")
}

record(ai, "$(P):SIM:YMULT_CH3")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.3")
}

record(stringin, "$(P):SIM:XUNIT_CH3")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "s")
}

record(stringin, "$(P):SIM:YUNIT_CH3")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "V")
}

record(waveform,"$(P):SIM:RAWYDATA_CH4")
{
	field(NELM, "10000")
	field(FTVL, "LONG")
}

record(ai, "$(P):SIM:XINC_CH4")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.04")
}

record(ai, "$(P):SIM:YMULT_CH4")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "0.4")
}

record(stringin, "$(P):SIM:XUNIT_CH4")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "s")
}

record(stringin, "$(P):SIM:YUNIT_CH4")
{
    field(SCAN, "Passive")
    field(DTYP, "Soft Channel")
	field(VAL, "V")
}

record(waveform,"$(P):SIM:XDATA")
{
	field(NELM, "10000")
	field(FTVL, "LONG")
}
